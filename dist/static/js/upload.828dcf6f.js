(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["upload"],{3355:function(e,t,a){"use strict";var r=a("ceb8"),l=a.n(r);l.a},3588:function(e,t,a){e.exports=a.p+"static/img/chartExample.9a05f4f7.png"},"365c":function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c})),a.d(t,"g",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"d",(function(){return m})),a.d(t,"h",(function(){return f})),a.d(t,"i",(function(){return b}));var r=a("bc3a"),l=a.n(r),n=l.a.create({baseURL:"http://localhost:8090/api",timeout:5e3});n.interceptors.request.use((function(e){return e.headers.Authorization=window.sessionStorage.getItem("token"),e}),(function(e){return console.log(e),Promise.reject()})),n.interceptors.response.use((function(e){if(200===e.status)return e.data;Promise.reject()}),(function(e){return console.log(e),Promise.reject()}));var s=n,o=function(e){return s({url:"/getdata/gettables",method:"get",params:e})},i=function(e){return console.log("请求删除"),s({url:"/savedata/deletetables",method:"get",params:e})},c=function(e){return s({url:"/savedata/savetables",method:"post",params:e,headers:{"Content-Type":"application/json"}})},u=function(e){return s({url:"/getdata/tableToIssues",method:"post",headers:{"Content-Type":"application/json; charset=utf-8"},data:e,transformRequest:[function(e){var t=e,a=e.querypara;return a=JSON.stringify(a),t.querypara=a,JSON.stringify(t)}]})},d=function(e){return s({url:"/getdata/Issues",method:"get",params:e})},p=function(e){return s({url:"/getdata/Tags",method:"get",params:e})},m=function(e){return s({url:"/getdata/DesAndUname",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"},transformRequest:[function(e){return JSON.stringify(e)}]})},f=function(e){return s({url:"/getdata/tableTag",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"},transformRequest:[function(e){return JSON.stringify(e)}]})},b=function(e){return s({url:"/savedata/saveNewDes",method:"post",data:e,headers:{"Content-Type":"application/json; charset=utf-8"},transformRequest:[function(e){return JSON.stringify(e)}]})}},"7ed4":function(e,t,a){"use strict";var r=a("2b0e"),l=new r["default"];t["a"]=l},a1a5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-document"}),e._v(" 查看标签库\n            ")]),a("el-breadcrumb-item",[e._v("查看标签库")])],1),a("div",{staticClass:"crumbs"})],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"过滤类型",clearable:""},model:{value:e.para1,callback:function(t){e.para1=t},expression:"para1"}},e._l(e.warningLevel,(function(e,t){return a("el-option",{key:t,attrs:{label:e.level,value:e.value}})})),1),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"输入参数"},model:{value:e.para2,callback:function(t){e.para2=t},expression:"para2"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"tagId",label:"标签编号",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"tagName",label:"标签名称",width:"250"}}),a("el-table-column",{attrs:{prop:"description",label:"标签内容"}}),a("el-table-column",{attrs:{prop:"color",label:"严重级别",width:"100"}}),a("el-table-column",{attrs:{prop:"date",label:"日期",width:"120"}}),a("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.totalElements,pagerCount:5},on:{"current-change":e.handlePageChange}})],1)],1)])},l=[],n=a("365c"),s=a("7ed4"),o={name:"IssuesTables",data:function(){return{query:{querypara:"",pageIndex:1,pageSize:5},para1:"",para2:"",tableData:[],totalElements:0,form:{},idx:-1,warningLevel:{1:{color:"red",level:"致命缺陷",value:1},2:{color:"orange",level:"严重缺陷",value:2},3:{color:"yellow",level:"一般缺陷",value:3},4:{color:"blue",level:"值得关注的缺陷",value:4},5:{color:"green",level:"可以忽略的缺陷",value:5}}}},created:function(){this.getData(),this.userProperty=JSON.parse(window.sessionStorage.getItem("userProperty")),console.log(this.tableData)},methods:{getData:function(){var e=this;Object(n["h"])(this.query).then((function(t){console.log(e.query);var a=t.tags;e.tableData=a.content,e.totalElements=a.totalElements||15;var r=0;for(r=0;r<e.tableData.length;r++){var l=e.tableData[r].color;e.tableData[r].color=e.warningLevel[l].level}}))},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()},handleSearch:function(){this.$set(this.query,"pageIndex",1);var e=this.para1+" "+this.para2;this.$set(this.query,"querypara",e),this.getData()},getTable:function(e){window.sessionStorage.setItem("tablesId",e.tablesId),s["a"].$emit("tableIdChange",e.tablesId),this.$router.push("/issues")},handleDelete:function(e,t){var a=this;"type1"===this.userProperty.authority?this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){Object(n["a"])({tablesId:t.tablesId}),a.$message.success("删除成功"),a.tableData.splice(e,1)})).catch((function(){})):this.$message.error("删除失败,您没有权限删除")}}},i=o,c=(a("3355"),a("2877")),u=Object(c["a"])(i,r,l,!1,null,"1deb32b4",null);t["default"]=u.exports},a727:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 表单")]),r("el-breadcrumb-item",[e._v("issue上传")])],1)],1),r("div",{staticClass:"container"},[e._m(0),r("div",[e._v("样例图片")]),r("img",{staticStyle:{width:"500px"},attrs:{src:a("3588"),alt:""}}),r("el-divider"),r("div",{staticStyle:{width:"500px"}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"活动名称"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"活动时间"}},[r("el-col",{attrs:{span:11}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.date1,callback:function(t){e.$set(e.form,"date1",t)},expression:"form.date1"}})],1),r("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),r("el-col",{attrs:{span:11}},[r("el-time-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择时间"},model:{value:e.form.date2,callback:function(t){e.$set(e.form,"date2",t)},expression:"form.date2"}})],1)],1),r("el-form-item",{attrs:{label:"表名称"}},[r("el-input",{model:{value:e.form.tablesName,callback:function(t){e.$set(e.form,"tablesName",t)},expression:"form.tablesName"}})],1),r("el-form-item",{attrs:{label:"开发商"}},[r("el-input",{model:{value:e.form.builder,callback:function(t){e.$set(e.form,"builder",t)},expression:"form.builder"}})],1)],1)],1),r("el-divider"),r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/",multiple:"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),r("em",[e._v("点击上传")])]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("请上传xlsx文件")])]),r("el-button",{staticStyle:{"margin-left":"10px",display:"inline-block"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1)])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"padding-bottom":"20px"}},[a("p",[e._v("请上传格式如如下的issue文件的excel文件 支持xls和xlsx格式 同时填写如下表单完成数据过滤")]),a("p",[e._v("dataId | type | title | body | assignee | reporter | priority | status | resolution | created | updated")])])}],n={name:"upload",data:function(){return{form:{},fileList:[]}},methods:{submitUpload:function(){this.$refs.upload.submit(),console.log(this.fileList)},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)}}},s=n,o=a("2877"),i=Object(o["a"])(s,r,l,!1,null,"0e81e820",null);t["default"]=i.exports},ceb8:function(e,t,a){}}]);